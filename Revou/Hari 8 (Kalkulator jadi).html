<html>
    <h1><b>Membuat Kalkulator</b></h1>
<head>
    <style>
        button {
            width: 100%;
            border: none;
            border-radius: 4px;
        }

        .red {
            background-color: red;
            color: white;
        }

        .blue {
            background-color: blue;
            color: white;
        }

        .operators {
            background-color: orange;
        }

        .green {
            background-color: green;
            color: white;
        }

        .modifiers {
            background-color: black;
            color: white;
        }
    </style>
</head>
<table>
    <tr>
        <td colspan="4">
            <input type="text" id="calc-display" value="0"/>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <button class="red" id="clear-all-button">AC</button>
        </td>
        <td>
            <button class="blue" id="clear-button">C</button>
        </td>
        <td>
            <button class="operators">*</button>
        </td>
    </tr>
    <tr>
        <td>
            <button value="7" id="7" class="numbers">7</button>
        </td>
        <td>
            <button value="8" id="8" class="numbers">8</button>
        </td>
        <td>
            <button value="9" id="9" class="numbers">9</button>
        </td>
        <td>
            <button class="operators">/</button>
        </td>
    </tr>
    <tr>
        <td>
            <button value="4" id="4" class="numbers">4</button>
        </td>
        <td>
            <button value="5" id="5" class="numbers">5</button>
        </td>
        <td>
            <button value="6" id="6" class="numbers">6</button>
        </td>
        <td>
            <button class="operators">+</button>
        </td>
    </tr>
    <tr>
        <td>
            <button value="1" id="1" class="numbers">1</button>
        </td>
        <td>
            <button value="2" id="2" class="numbers">2</button>
        </td>
        <td>
            <button value="3" id="3" class="numbers">3</button>
        </td>
        <td>
            <button class="operators">-</button>
        </td>
    </tr>
    <tr>
        <td>
            <button class="modifiers">+-</button>
        </td>
        <td>
            <button value="0" id="0" class="numbers">0</button>
        </td>
        <td>
            <button class="modifiers">.</button>
        </td>
        <td>
            <button class="green" id="result-button">=</button>
        </td>
    </tr>
</table>
<script>
    var inputLabel = document.getElementById("calc-display");
    var numbers = document.getElementsByClassName("numbers");
    var operators = document.getElementsByClassName("operators");
    var resultBtn = document.getElementById("result-button");
    
    // console.log("operators:", operators.length);
    
    var clearAllButton = document.getElementById("clear-all-button");
    var clearButton = document.getElementById("clear-button");

    // console.log("numbers:", numbers.length);
    for (let i = 0; i < numbers.length; i++){
        numbers[i].addEventListener("click", function(){
            var pushed = this.value;
            inputLabel.value = inputLabel.value + pushed;
        })
    }
    
    for(let i = 0; i < operators.length; i++){
        operators[i].addEventListener("click", function(){
            var pushed = this.innerHTML;
            inputLabel.value = inputLabel.value + pushed;
    })
    }
    clearAllButton.addEventListener("click", function(){
            inputLabel.value = "";
        })
    
    clearButton.addEventListener("click", function(){
        var maxLength = inputLabel.value.length;
        inputLabel.value = inputLabel.value.substr(0, maxLength - 1)
    })    
    
    // apabila ada 2 operator
    resultBtn.addEventListener("click", function(){
        try {
            inputLabel.value = eval(inputLabel.value);
        } catch (err){
            console.log("error handling");
        }
    })
    
    inputLabel.addEventListener("input", function(){
        //using regular expression: 0-9, +, -, *, 
    
        var isValidInput = inputLabel.value.match(/^[0-9\+\-\*\/]$/);
        if (isValidInput){
            console.log("Valid Input");
        } else {
            console.log("Invalid Input");
        }
    });
        
</script>
</html>